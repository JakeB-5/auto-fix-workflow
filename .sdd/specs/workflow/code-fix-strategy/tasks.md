---
status: draft
created: 2026-01-30
plan: ./plan.md
total_tasks: 12
completed: 0
---

# Code Fix Strategy ì‘ì—… ëª©ë¡

## ìš”ì•½
| ìš°ì„ ìˆœìœ„ | ì‘ì—… ìˆ˜ | ì˜ˆìƒ ì‹œê°„ |
|---------|---------|-----------|
| ğŸ”´ HIGH | 6 | 14h |
| ğŸŸ¡ MEDIUM | 4 | 8h |
| ğŸŸ¢ LOW | 2 | 4h |

---

### code-fix-strategy-task-001: ê¸°ë³¸ ì¸í„°í˜ì´ìŠ¤ ë° ìƒìˆ˜ ì •ì˜

- **ìƒíƒœ:** ëŒ€ê¸°
- **ìš°ì„ ìˆœìœ„:** ğŸŸ¡ MEDIUM
- **ì˜ˆìƒ ì‹œê°„:** 2h
- **ì˜ì¡´ì„±:** ì—†ìŒ

#### ì„¤ëª…
ìë™ ìˆ˜ì • ì „ëµì— í•„ìš”í•œ íƒ€ì…, ì¸í„°í˜ì´ìŠ¤, ê¸ˆì§€ íŒ¨í„´ ìƒìˆ˜ ì •ì˜.

#### ì™„ë£Œ ì¡°ê±´
- [ ] `CodeFixConfig` ì¸í„°í˜ì´ìŠ¤ ì •ì˜ (max_files, max_lines_per_file, max_retry, forbidden_patterns, required_checks)
- [ ] `FixAttempt` ì¸í„°í˜ì´ìŠ¤ ì •ì˜ (attempt_number, changed_files, test_results, success, failure_reason, timestamp)
- [ ] `CommitMessage` ì¸í„°í˜ì´ìŠ¤ ì •ì˜ (type, summary, body, issue_numbers, footer)
- [ ] `ForbiddenPattern` ì¸í„°í˜ì´ìŠ¤ ì •ì˜ (category, keywords, reason)
- [ ] `FORBIDDEN_PATTERNS` ìƒìˆ˜ ë°°ì—´ ì •ì˜ (security, database, refactoring, config)
- [ ] `DEFAULT_CONFIG` ìƒìˆ˜ ì •ì˜
- [ ] íƒ€ì… ê²€ì¦ í•¨ìˆ˜ êµ¬í˜„

---

### code-fix-strategy-task-002: ê¸ˆì§€ íŒ¨í„´ ê°ì§€ ë¡œì§ êµ¬í˜„

- **ìƒíƒœ:** ëŒ€ê¸°
- **ìš°ì„ ìˆœìœ„:** ğŸ”´ HIGH
- **ì˜ˆìƒ ì‹œê°„:** 2h
- **ì˜ì¡´ì„±:** code-fix-strategy-task-001

#### ì„¤ëª…
ì•ˆì „ì„±ì„ ìœ„í•œ ê¸ˆì§€ íŒ¨í„´ ê°ì§€ ë° ì²˜ë¦¬ ë¡œì§ êµ¬í˜„.

#### ì™„ë£Œ ì¡°ê±´
- [ ] `detectForbiddenPatterns()` í•¨ìˆ˜ êµ¬í˜„ (í‚¤ì›Œë“œ ë§¤ì¹­)
- [ ] ì´ìŠˆ ì œëª©ê³¼ ë³¸ë¬¸ì—ì„œ í‚¤ì›Œë“œ ê²€ìƒ‰ (ëŒ€ì†Œë¬¸ì ë¬´ì‹œ)
- [ ] ì¹´í…Œê³ ë¦¬ë³„ í‚¤ì›Œë“œ ì •ì˜ (security, database, refactoring, config)
- [ ] `isActuallyForbidden()` ì»¨í…ìŠ¤íŠ¸ ë¶„ì„ í•¨ìˆ˜ (ì„ íƒì )
- [ ] `handleForbiddenPattern()` í•¨ìˆ˜ êµ¬í˜„ (ì´ìŠˆ ë¼ë²¨ë§)
- [ ] auto-fix-skip ë¼ë²¨ ì¶”ê°€ ë° ì½”ë©˜íŠ¸ ìƒì„±
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„± (ëª¨ë“  ì¹´í…Œê³ ë¦¬ í‚¤ì›Œë“œ)

---

### code-fix-strategy-task-003: ìˆ˜ì • ë²”ìœ„ ë¶„ì„ ë¡œì§ êµ¬í˜„

- **ìƒíƒœ:** ëŒ€ê¸°
- **ìš°ì„ ìˆœìœ„:** ğŸ”´ HIGH
- **ì˜ˆìƒ ì‹œê°„:** 3h
- **ì˜ì¡´ì„±:** code-fix-strategy-task-002

#### ì„¤ëª…
ìë™ ìˆ˜ì • ê°€ëŠ¥ ì—¬ë¶€ë¥¼ íŒë‹¨í•˜ê¸° ìœ„í•œ ì˜í–¥ ë²”ìœ„ ë¶„ì„ êµ¬í˜„.

#### ì™„ë£Œ ì¡°ê±´
- [ ] `FixDecision` íƒ€ì… ì •ì˜ (can_fix, reason, suggested_action, estimated_files, estimated_lines)
- [ ] `canAutoFix()` í•¨ìˆ˜ êµ¬í˜„
- [ ] ê¸ˆì§€ íŒ¨í„´ ì²´í¬ í†µí•©
- [ ] `analyzeAffectedFiles()` í•¨ìˆ˜ êµ¬í˜„ (ì´ìŠˆì—ì„œ íŒŒì¼ ì¶”ì¶œ + ì½”ë“œë² ì´ìŠ¤ ê²€ìƒ‰)
- [ ] `estimateChangedLines()` í•¨ìˆ˜ êµ¬í˜„ (ë³µì¡ë„ ì¶”ì •)
- [ ] ìµœëŒ€ íŒŒì¼ ìˆ˜ ì²´í¬ (ê¸°ë³¸ê°’ 3)
- [ ] ìµœëŒ€ ë¼ì¸ ìˆ˜ ì²´í¬ (ê¸°ë³¸ê°’ 100)
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±

---

### code-fix-strategy-task-004: ì¬ì‹œë„ ì „ëµ êµ¬í˜„

- **ìƒíƒœ:** ëŒ€ê¸°
- **ìš°ì„ ìˆœìœ„:** ğŸ”´ HIGH
- **ì˜ˆìƒ ì‹œê°„:** 3h
- **ì˜ì¡´ì„±:** code-fix-strategy-task-003

#### ì„¤ëª…
3ë‹¨ê³„ ì ì§„ì  ì¬ì‹œë„ ì „ëµ ë° ì´ì „ ì—ëŸ¬ ëˆ„ì  ë¡œì§ êµ¬í˜„.

#### ì™„ë£Œ ì¡°ê±´
- [ ] `RetryStrategy` íƒ€ì… ì •ì˜ (scope, approach, targetFile)
- [ ] `getRetryStrategy()` í•¨ìˆ˜ êµ¬í˜„ (attemptì— ë”°ë¼ ì „ëµ ë³€ê²½)
- [ ] 1ì°¨ ì‹œë„: normal scope, issue-based approach
- [ ] 2ì°¨ ì‹œë„: wide scope, error-analysis approach
- [ ] 3ì°¨ ì‹œë„: narrow scope, minimal-safe approach
- [ ] `attemptFix()` í•¨ìˆ˜ êµ¬í˜„ (ì „ëµì— ë”°ë¥¸ ì½”ë“œ ìˆ˜ì • + ì²´í¬ ì‹¤í–‰)
- [ ] ì´ì „ ì—ëŸ¬ ëˆ„ì  ë¡œì§ (PreviousError ë°°ì—´)
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„± (ê° ì¬ì‹œë„ ì „ëµ)

---

### code-fix-strategy-task-005: ì»¤ë°‹ ë©”ì‹œì§€ ìƒì„± ë¡œì§ êµ¬í˜„

- **ìƒíƒœ:** ëŒ€ê¸°
- **ìš°ì„ ìˆœìœ„:** ğŸ”´ HIGH
- **ì˜ˆìƒ ì‹œê°„:** 2h
- **ì˜ì¡´ì„±:** code-fix-strategy-task-004

#### ì„¤ëª…
Conventional Commits í˜•ì‹ì˜ ê³ í’ˆì§ˆ ì»¤ë°‹ ë©”ì‹œì§€ ìë™ ìƒì„±.

#### ì™„ë£Œ ì¡°ê±´
- [ ] `generateCommitMessage()` í•¨ìˆ˜ êµ¬í˜„
- [ ] `determineCommitType()` í•¨ìˆ˜ êµ¬í˜„ (fix, refactor, test, docs ë“±)
- [ ] `generateSummary()` í•¨ìˆ˜ êµ¬í˜„ (50ì ì œí•œ)
- [ ] `generateBody()` í•¨ìˆ˜ êµ¬í˜„ (Why ì¤‘ì‹¬, Root Cause + Solution)
- [ ] `formatCommitMessage()` í•¨ìˆ˜ êµ¬í˜„ (ì „ì²´ í¬ë§· ì¡°í•©)
- [ ] Footer ì¶”ê°€ (Closes #N, Co-Authored-By)
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„± (í˜•ì‹ ê²€ì¦, ê¸¸ì´ ì œí•œ)

---

### code-fix-strategy-task-006: PR ìƒì„± ë¡œì§ êµ¬í˜„

- **ìƒíƒœ:** ëŒ€ê¸°
- **ìš°ì„ ìˆœìœ„:** ğŸ”´ HIGH
- **ì˜ˆìƒ ì‹œê°„:** 2h
- **ì˜ì¡´ì„±:** code-fix-strategy-task-005

#### ì„¤ëª…
autofixing ë¸Œëœì¹˜ë¥¼ íƒ€ê²Ÿìœ¼ë¡œ í•˜ëŠ” PR ìë™ ìƒì„± ë° auto-fix ë¼ë²¨ ì¶”ê°€.

#### ì™„ë£Œ ì¡°ê±´
- [ ] `createFixPR()` í•¨ìˆ˜ êµ¬í˜„
- [ ] ë‹¨ì¼/ë‹¤ì¤‘ ì´ìŠˆ ì²˜ë¦¬ ë¶„ê¸°
- [ ] PR ì œëª© ìƒì„± (fix: {title} (#{N}) í˜•ì‹)
- [ ] PR ë³¸ë¬¸ í…œí”Œë¦¿ êµ¬í˜„ (Related Issues, Changes, Root Cause, Solution, Test Results, Files Changed)
- [ ] Octokitì„ ì‚¬ìš©í•œ PR ìƒì„± (base: "autofixing")
- [ ] auto-fix ë° bot ë¼ë²¨ ìë™ ì¶”ê°€
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„± (Mock Octokit)

---

### code-fix-strategy-task-007: ê²€ì¦ ì²´í¬ í†µí•©

- **ìƒíƒœ:** ëŒ€ê¸°
- **ìš°ì„ ìˆœìœ„:** ğŸŸ¡ MEDIUM
- **ì˜ˆìƒ ì‹œê°„:** 1h
- **ì˜ì¡´ì„±:** code-fix-strategy-task-004

#### ì„¤ëª…
run-checks ëª¨ë“ˆ ì—°ë™ ë° ì²´í¬ ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ íŠ¸ë¦¬ê±°.

#### ì™„ë£Œ ì¡°ê±´
- [ ] `runAllChecks()` í•¨ìˆ˜ êµ¬í˜„
- [ ] run-checks ëª¨ë“ˆ import ë° í˜¸ì¶œ
- [ ] ì²´í¬ ìˆœì„œ ê³ ì • (typecheck â†’ lint â†’ test)
- [ ] ì²´í¬ ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ ì‹ í˜¸ ë°˜í™˜
- [ ] ìµœì¢… ì‹¤íŒ¨ ì‹œ CheckResult ë°˜í™˜
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„± (Mock run-checks)

---

### code-fix-strategy-task-008: ìµœì¢… ì‹¤íŒ¨ ì²˜ë¦¬ ë¡œì§ êµ¬í˜„

- **ìƒíƒœ:** ëŒ€ê¸°
- **ìš°ì„ ìˆœìœ„:** ğŸŸ¡ MEDIUM
- **ì˜ˆìƒ ì‹œê°„:** 2h
- **ì˜ì¡´ì„±:** code-fix-strategy-task-007

#### ì„¤ëª…
ìµœëŒ€ ì¬ì‹œë„ ì´ˆê³¼ ì‹œ ì´ìŠˆ ë¼ë²¨ë§ ë° ìˆ˜ë™ ê²€í†  ì•ˆë‚´ ì½”ë©˜íŠ¸ ìƒì„±.

#### ì™„ë£Œ ì¡°ê±´
- [ ] `handleFinalFailure()` í•¨ìˆ˜ êµ¬í˜„
- [ ] auto-fix-failed ë¼ë²¨ ì¶”ê°€
- [ ] ì‹¤íŒ¨ ì‚¬ìœ  ì½”ë©˜íŠ¸ ìƒì„± (ì‹œë„ íšŸìˆ˜, ìµœì¢… ì‹¤íŒ¨ ì›ì¸, ì‹œë„ ë‚´ì—­)
- [ ] `generateManualReviewSuggestions()` í•¨ìˆ˜ êµ¬í˜„ (ìˆ˜ë™ ê²€í†  ê°€ì´ë“œ)
- [ ] Worktree ì •ë¦¬ í˜¸ì¶œ (cleanupWorktree)
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±

---

### code-fix-strategy-task-009: í†µí•© ë° ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ êµ¬í˜„

- **ìƒíƒœ:** ëŒ€ê¸°
- **ìš°ì„ ìˆœìœ„:** ğŸ”´ HIGH
- **ì˜ˆìƒ ì‹œê°„:** 3h
- **ì˜ì¡´ì„±:** code-fix-strategy-task-006, code-fix-strategy-task-008

#### ì„¤ëª…
ì „ì²´ ìë™ ìˆ˜ì • ì›Œí¬í”Œë¡œìš°ë¥¼ í†µí•©í•˜ëŠ” ë©”ì¸ í•¨ìˆ˜ êµ¬í˜„.

#### ì™„ë£Œ ì¡°ê±´
- [ ] `autoFixIssue()` ë©”ì¸ í•¨ìˆ˜ êµ¬í˜„
- [ ] ìë™ ìˆ˜ì • ê°€ëŠ¥ ì—¬ë¶€ íŒë‹¨ (canAutoFix)
- [ ] Worktree ìƒì„± (createWorktree í˜¸ì¶œ)
- [ ] ìµœëŒ€ 3íšŒ ì¬ì‹œë„ ë£¨í”„
- [ ] ì„±ê³µ ì‹œ PR ìƒì„± ë° Worktree ì •ë¦¬
- [ ] ìµœì¢… ì‹¤íŒ¨ ì‹œ handleFinalFailure í˜¸ì¶œ
- [ ] FixResult ë°˜í™˜ (success, attempts)
- [ ] ì—ëŸ¬ í•¸ë“¤ë§ ë° ë¡œê¹…
- [ ] í†µí•© í…ŒìŠ¤íŠ¸ ì‘ì„±

---

### code-fix-strategy-task-010: ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±

- **ìƒíƒœ:** ëŒ€ê¸°
- **ìš°ì„ ìˆœìœ„:** ğŸŸ¡ MEDIUM
- **ì˜ˆìƒ ì‹œê°„:** 2h
- **ì˜ì¡´ì„±:** code-fix-strategy-task-009

#### ì„¤ëª…
ê° í•¨ìˆ˜ì˜ ì •í™•ì„±ì„ ê²€ì¦í•˜ëŠ” ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±.

#### ì™„ë£Œ ì¡°ê±´
- [ ] detectForbiddenPatterns() í…ŒìŠ¤íŠ¸ (ëª¨ë“  ì¹´í…Œê³ ë¦¬)
- [ ] generateCommitMessage() í…ŒìŠ¤íŠ¸ (Conventional Commits í˜•ì‹)
- [ ] generateBranchName() í…ŒìŠ¤íŠ¸ (ë¸Œëœì¹˜ëª… ê·œì¹™)
- [ ] formatTestResults() í…ŒìŠ¤íŠ¸ (í…ŒìŠ¤íŠ¸ ê²°ê³¼ í¬ë§·íŒ…)
- [ ] getRetryStrategy() í…ŒìŠ¤íŠ¸ (ê° attemptë³„ ì „ëµ)
- [ ] í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 80% ì´ìƒ

---

### code-fix-strategy-task-011: í†µí•© í…ŒìŠ¤íŠ¸ ë° Mock í…ŒìŠ¤íŠ¸

- **ìƒíƒœ:** ëŒ€ê¸°
- **ìš°ì„ ìˆœìœ„:** ğŸŸ¡ MEDIUM
- **ì˜ˆìƒ ì‹œê°„:** 2h
- **ì˜ì¡´ì„±:** code-fix-strategy-task-010

#### ì„¤ëª…
GitHub API, run-checks ëª¨ë“ˆì„ Mockí•˜ì—¬ ì „ì²´ í”Œë¡œìš° ê²€ì¦.

#### ì™„ë£Œ ì¡°ê±´
- [ ] Octokit Mock ì„¤ì • (MSW ë˜ëŠ” vitest.mock)
- [ ] run-checks ëª¨ë“ˆ Mock ì„¤ì •
- [ ] ìë™ ìˆ˜ì • ê°€ëŠ¥ â†’ 1íšŒ ì„±ê³µ ì‹œë‚˜ë¦¬ì˜¤
- [ ] ì²« ì‹œë„ ì‹¤íŒ¨ â†’ ì¬ì‹œë„ â†’ ì„±ê³µ ì‹œë‚˜ë¦¬ì˜¤
- [ ] 3íšŒ ëª¨ë‘ ì‹¤íŒ¨ â†’ ìµœì¢… ì‹¤íŒ¨ ì²˜ë¦¬ ì‹œë‚˜ë¦¬ì˜¤
- [ ] ê¸ˆì§€ íŒ¨í„´ ê°ì§€ â†’ auto-fix-skip ì‹œë‚˜ë¦¬ì˜¤
- [ ] ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼

---

### code-fix-strategy-task-012: E2E í…ŒìŠ¤íŠ¸ ë° ì„±ëŠ¥ ê²€ì¦

- **ìƒíƒœ:** ëŒ€ê¸°
- **ìš°ì„ ìˆœìœ„:** ğŸŸ¢ LOW
- **ì˜ˆìƒ ì‹œê°„:** 2h
- **ì˜ì¡´ì„±:** code-fix-strategy-task-011

#### ì„¤ëª…
ì‹¤ì œ GitHub í…ŒìŠ¤íŠ¸ ë ˆí¬ì§€í† ë¦¬ë¥¼ ì‚¬ìš©í•œ E2E í…ŒìŠ¤íŠ¸ ë° ì„±ëŠ¥ ì¸¡ì •.

#### ì™„ë£Œ ì¡°ê±´
- [ ] í…ŒìŠ¤íŠ¸ìš© ì´ìŠˆ ìƒì„± (beforeAll)
- [ ] ì‹¤ì œ ì´ìŠˆ ìƒì„± â†’ ìë™ ìˆ˜ì • â†’ PR ìƒì„± â†’ ê²€ì¦ E2E
- [ ] ë³´ì•ˆ í‚¤ì›Œë“œ ì´ìŠˆ â†’ ìë™ ìŠ¤í‚µ E2E
- [ ] ëŒ€ê·œëª¨ ë¦¬íŒ©í† ë§ ì´ìŠˆ â†’ ìë™ ê±°ë¶€ E2E
- [ ] ì„±ëŠ¥ ì¸¡ì • (ë‹¨ì¼ ì´ìŠˆ <5ë¶„, ì¬ì‹œë„ í¬í•¨ <15ë¶„)
- [ ] í…ŒìŠ¤íŠ¸ ì´ìŠˆ ë° PR ì •ë¦¬ (afterAll)
- [ ] ë¬¸ì„œí™” (READMEì— ì‚¬ìš©ë²• ì¶”ê°€)
